<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/png" sizes="32x32" href="/assets/administrator/new-resized-logo.png">
    <link rel="shortcut icon" type="image/x-icon" sizes="16x16" href="/assets/administrator/new-resized-logo.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <title>Gillego-Flores Dental Clinic</title>

    <!--Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <!-- CSS Link -->
    <link rel="stylesheet" th:href="@{/css/patients/PatientDashboard.css}">

<!--    <link rel="stylesheet" href="/admin-system/src/main/resources/static/css/patients/PatientDashboard.css">-->

</head>
    <body>
        <!-- Navbar -->
        <nav class="navbar sticky-top navbar-expand-sm navbar-dark bg-danger opacity-100">
            <div class="container-sm">
                <a class="navbar-brand" href="/patient/dashboard">
                    <img th:src="@{/assets/patients/logo.png}" width="85" height="85" alt="Logo">
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class=" collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ms-auto ">
                    <li class="nav-item">
                        <a class="nav-link shadow-text mx-2" aria-current="page" href="#profile">PROFILE</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link shadow-text mx-2" href="#record">RECORDS</a>
                    </li>
                        <a class="button-logout shadow-text mx-3" th:href="@{/patient/login}">LOGOUT</a>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Navbar -->

        <!-- Main dashboard -->

        <div class="container-md mt-5 mb-5">
            <div class="header">
                <h1 class="text-center fw-bolder display-4 p-5">Welcome to<br>Patient Dashboard</h1>
            </div>
        </div>

        <!-- Tables -->
        <div class="container-md mt-5 w-auto" id="profile">
            <table class="table table-borderless table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th class="text-center fw-bold h2" colspan="4" scope="col">Basic Information </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5" >First Name</td>
                        <td class="text-center w-25 fs-5" th:text="${data.firstName}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Middle Name</td>
                        <td class="text-center w-25 fs-5" th:text="${data.middleName}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Last Name</td>
                        <td class="text-center w-25 fs-5" th:text="${data.lastName}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Suffix</td>
                        <td class="text-center w-25 fs-5" th:text="${data.suffix}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Date of Birth</td>
                        <td class="text-center w-25 fs-5" th:text="${data.birthDate}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Gender</td>
                        <td class="text-center w-25 fs-5" th:text="${data.gender}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Civil Status</td>
                        <td class="text-center w-25 fs-5" th:text="${data.civilStatus}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Physical Disability or Condition</td>
                        <td class="text-center w-25 fs-5" th:text="${data.physicalDisability}"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="container-md mt-2 w-auto">
            <table class="table table-borderless table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th class="text-center fw-bold h2" colspan="4" scope="col">Contact Information</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Email Address</td>
                        <td class="text-center w-25 fs-5" th:text="${data.emailAddress}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Complete Address</td>
                        <td class="text-center w-25 fs-5" th:text="${data.homeAddress}"></td>
                    </tr>
                    <tr>
                        <td class="text-start fw-bolder w-25 fs-5">Phone Number</td>
                        <td class="text-center w-25 fs-5" th:text="${data.contactNumber}"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="container-md mt-2 w-auto" id="record">
            <div class="headings">
                <p class="text-center fw-bold h2 pt-5 pb-4">Records</p>
            </div>
            <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col"></th>
                    <th scope="col" class="fw-bold">Date</th>
                    <th scope="col" class="fw-bold">Picked Date</th>
                    <th scope="col" class="fw-bold">Picked Time</th>
                    <th scope="col" class="fw-bold">Type of Service</th>
                    <th scope="col" class="fw-bold">Status</th>
                  </tr>
                </thead>
                <tbody>
                    <tr th:each=" appointments : ${appointmentSchedule}">
                        <td aria-disabled="true"> </td>
                        <td th:text="${appointments.dateAndTime}"></td>
                        <td th:text="${appointments.pickDate}"></td>
                        <td th:text="${appointments.pickTime}"></td>
                        <td th:text="${appointments.services}"></td>
                        <td th:text="${appointments.status}"></td>
                        <td>APPROVED</td>
                    </tr>
                </tbody>
              </table>
        </div>
        <!-- Tables -->

        <!-- Modal button-->

        <div class="container-md mt-5 mb-5 w-auto">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
              Appoint Schedule
            </button>
            
            <!-- Modal -->
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="staticBackdropLabel">Book an Appointment</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                                <div class="modal-headings">
                                    <h2>Reminders</h2>
                                    <p>
                                        Please select your required service in the clinic. Should you require multiple operations, we highly encourage you to schedule your appointment the next day to fully accomodate high volume of patients and do not affect the quality of service we provide.
                                    </p>
                                </div>

                            <form th:action="@{dashboard}" method="post" th:object="${appointment}">

                                <label>Services</label>
                                <select name="services" th:field="*{services}">
                                    <option selected hidden value="">Services</option>
                                    <option th:each=" service : ${services}" th:value="${service}" th:text="${service.displayServices}"></option>
                                </select>
                                <p><span class="error-message" th:errors="*{services}"></span></p>

                                <label>Date:</label>
                                <input type="date" name="pickDate" th:field="*{pickDate}">
                                <p><span class="error-message" th:errors="*{pickDate}"></span></p>
                    
                                <label>Time:</label>
                                <select name="pickTime" th:field="*{pickTime}" >
                                    <option selected hidden value="">Select Time</option>
                                    <option th:each="time : ${times}" th:value="${time}"
                                           th:text="${time.getDisplayTime}"></option>
                                </select>
                                <p><span class="error-message" th:errors="*{pickTime}"></span></p>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
<!--                                    <button type="submit" value="Submit"-->
<!--                                            onclick="location.href='/patient/dashboard#record'"-->
<!--                                            class="btn btn-primary">Submit</button>-->
                                    <input class="btn btn-primary" type="submit" value="Submit"
                                           onclick="location.href='/patient/dashboard'" >
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>